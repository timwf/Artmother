{"version":3,"sources":["webpack://project/./js/main.js"],"names":["$","document","ready","observer","query","prefixes","wWidth","window","width","navState","$header","$nav","find","$parentLi","$parentLinks","children","$subMenu","isObserver","disableScrolling","height","scrollTop","addClass","css","enableScrolling","parseInt","removeClass","handleNavTouch","e","$item","target","$submenu","siblings","parent","hasClass","attr","slideUp","slideDown","IntersectionObserverEntry","prototype","IntersectionObserver","entries","forEach","entry","isIntersecting","classList","add","unobserve","rootMargin","split","DocumentTouch","join","matchMedia","matches","svg","subtitle","wrap","centerLine","verticleLines","date","doneResizing","func","wait","immediate","args","timeout","context","this","callNow","clearTimeout","setTimeout","apply","debounce","on","preventDefault","keyup","keyCode","which","filter","length","body","addEventListener","remove","event","key","console","log","gsap","timeline","to","duration","stagger","opacity","scale","y","onComplete","scrollTrigger","trigger","start","toggleActions","markers","each","i","el","observe"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(() => {\r\n  let wWidth = $(window).width();\r\n  let navState = false;\r\n  const $header = $('.page-header');\r\n  const $nav = $header.find('.nav');\r\n  const $parentLi = $nav.find('.menu-item-has-children');\r\n  const $parentLinks = $parentLi.children('a');\r\n  const $subMenu = $parentLi.children('.sub-menu');\r\n  let isObserver = true;\r\n  let observer;\r\n  let isTouch;\r\n\r\n  if (\r\n    !('IntersectionObserver' in window) ||\r\n    !('IntersectionObserverEntry' in window) ||\r\n    !('isIntersecting' in window.IntersectionObserverEntry.prototype)\r\n  ) {\r\n    isObserver = false;\r\n    $('html').removeClass('is-observer');\r\n  }\r\n\r\n  if (isObserver) {\r\n    observer = new IntersectionObserver(\r\n      (entries) => {\r\n        entries.forEach((entry) => {\r\n          if (entry.isIntersecting) {\r\n            entry.target.classList.add('is-visible');\r\n            observer.unobserve(entry.target);\r\n          }\r\n        });\r\n      },\r\n      { rootMargin: '0px 0px -15% 0px' }\r\n    );\r\n  }\r\n\r\n  function isTouchDevice() {\r\n    const prefixes = ' -webkit- -moz- -o- -ms- '.split(' ');\r\n    const mq = (query) => {\r\n      return window.matchMedia(query).matches;\r\n    };\r\n\r\n    if (\r\n      'ontouchstart' in window ||\r\n      // eslint-disable-next-line no-undef\r\n      (window.DocumentTouch && document instanceof DocumentTouch)\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // include the 'heartz' as a way to have a non matching MQ to help terminate the join\r\n    // https://git.io/vznFH\r\n    const query = ['(', prefixes.join('touch-enabled),('), 'heartz', ')'].join(\r\n      ''\r\n    );\r\n    return mq(query);\r\n  }\r\n\r\n  if (isTouchDevice()) {\r\n    isTouch = true;\r\n    $('html').addClass('is-touch');\r\n  }\r\n\r\n  // Returns a function, that, as long as it continues to be invoked, will not\r\n  // be triggered. The function will be called after it stops being called for\r\n  // N milliseconds. If `immediate` is passed, trigger the function on the\r\n  // leading edge, instead of the trailing.\r\n  function debounce(func, wait, immediate, ...args) {\r\n    let timeout;\r\n    return function () {\r\n      const context = this;\r\n      const later = function () {\r\n        timeout = null;\r\n        if (!immediate) func.apply(context, args);\r\n      };\r\n      const callNow = immediate && !timeout;\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(later, wait);\r\n      if (callNow) func.apply(context, args);\r\n    };\r\n  }\r\n\r\n  // function once(fn, context) {\r\n  //   var result;\r\n\r\n  //   return function() {\r\n  //     if (fn) {\r\n  //       result = fn.apply(context || this, arguments);\r\n  //       fn = null;\r\n  //     }\r\n\r\n  //     return result;\r\n  //   };\r\n  // }\r\n\r\n  // // Usage\r\n  // var canOnlyFireOnce = once(function() {\r\n  //   console.log('Fired!');\r\n  // });\r\n\r\n  function disableScrolling() {\r\n    if ($(document).height() > $(window).height()) {\r\n      const scrollTop = $('html').scrollTop()\r\n        ? $('html').scrollTop()\r\n        : $('body').scrollTop(); // Works for Chrome, Firefox, IE...\r\n      $('html').addClass('disable-scrolling').css('top', -scrollTop);\r\n    }\r\n  }\r\n\r\n  function enableScrolling() {\r\n    const scrollTop = parseInt($('html').css('top'), 10);\r\n    $('html').removeClass('disable-scrolling');\r\n    $('html,body').scrollTop(-scrollTop);\r\n  }\r\n\r\n  function updateNav() {\r\n    $header.removeClass('is-opened');\r\n    $parentLi.removeClass('is-active');\r\n    $parentLinks.attr('aria-expanded', 'false');\r\n\r\n    if (wWidth < 1280) {\r\n      $subMenu.slideUp();\r\n    } else {\r\n      $subMenu.show();\r\n    }\r\n  }\r\n\r\n  function handleNavTouch(e) {\r\n    const $item = $(e.target);\r\n    const $submenu = $item.siblings('.sub-menu');\r\n\r\n    if ($item.parent().hasClass('is-active')) {\r\n      $item.attr('aria-expanded', 'false').parent().removeClass('is-active');\r\n\r\n      if (wWidth < 1280) {\r\n        $submenu.slideUp();\r\n      }\r\n    } else {\r\n      $parentLi.removeClass('is-active');\r\n      $item.attr('aria-expanded', 'true').parent().addClass('is-active');\r\n\r\n      if (wWidth < 1280) {\r\n        $subMenu.slideUp();\r\n        $submenu.slideDown();\r\n      }\r\n    }\r\n  }\r\n\r\n  function bindEvents() {\r\n    $('.hamburger').on('click', () => {\r\n      if (navState) {\r\n        $header.removeClass('is-opened');\r\n        enableScrolling();\r\n      } else {\r\n        $header.addClass('is-opened');\r\n        disableScrolling();\r\n      }\r\n\r\n      navState = !navState;\r\n    });\r\n\r\n    $parentLinks.on('touchend', (e) => {\r\n      e.preventDefault();\r\n      handleNavTouch(e);\r\n    });\r\n\r\n    /* Navigation with tabbing */\r\n    $(window).keyup((e) => {\r\n      const code = e.keyCode ? e.keyCode : e.which;\r\n\r\n      if (code === 9) {\r\n        if ($parentLinks.filter(':focus').length) {\r\n          handleNavTouch(e);\r\n        } else if ($nav.find('>li>a:focus').length) {\r\n          $parentLi.removeClass('is-active');\r\n\r\n          if (wWidth < 1280) {\r\n            $parentLi.children('.sub-menu').slideUp();\r\n          }\r\n        }\r\n      }\r\n    });\r\n\r\n    // FOCUS STYLING\r\n    // Let the document know when the mouse is being used\r\n    document.body.addEventListener('mousedown', () => {\r\n      document.body.classList.remove('is-tab');\r\n    });\r\n\r\n    // Re-enable focus styling when Tab is pressed\r\n    document.body.addEventListener('keydown', (event) => {\r\n      if (event.key === 'Tab') {\r\n        document.body.classList.add('is-tab');\r\n      }\r\n    });\r\n  }\r\n\r\n  const doneResizing = debounce(() => {\r\n    const width = $(window).width();\r\n\r\n    if (wWidth !== width) {\r\n      wWidth = width;\r\n    }\r\n  }, 500);\r\n\r\n  function initHomeLoader(){\r\n    const svg = $('.loader__inner svg path');\r\n    const subtitle = $('.loader__sub-heading h2')\r\n    const wrap = $('.loader')\r\n\r\n    if(!wrap.length){\r\n      return\r\n    }\r\n    console.log(subtitle);\r\n    disableScrolling()\r\n\r\n\r\n    let tl = gsap.timeline();\r\n    tl.to(svg, {duration: 0.5, stagger: 0.3, opacity: 0.2, scale: 1.05})\r\n      .to(svg, {duration: 1, stagger: 0.3, opacity: 1, scale: 1.0}, '-=3')\r\n      .to(subtitle, {duration: 1,  opacity: 1, y: 0}, '+=0')\r\n      .to(wrap, {duration: 1, onComplete: enableScrolling, opacity: 1, y: '-100%'}, '+=1')\r\n\r\n  }\r\n\r\n  function initTimeline(){\r\n    const centerLine = $('.author-timeline__center-line')\r\n    const verticleLines = $('.author-timeline__leading-line')\r\n    const date = $('.author-timeline__inner h3')\r\n\r\n    \r\n\r\n    let tl = gsap.timeline(  {\r\n      scrollTrigger: {\r\n        trigger: centerLine,\r\n        start: 'top 50%',\r\n        toggleActions: 'play',\r\n        markers: false\r\n      }     \r\n\r\n    });\r\n\r\n    tl.to(centerLine, {duration: 10, stagger: 0.3, height: '100%'})\r\n      .to(verticleLines, {duration: 1, stagger: 1, scale: 1}, '-=9.2')\r\n      .to(date, {duration: 1, stagger: 1, opacity: 1, y: 0 }, '-=9.2')\r\n\r\n\r\n  }\r\n\r\n  /* FUNCTION CALLS */\r\n  /* ============= */\r\n  bindEvents();\r\n  initHomeLoader()\r\n  initTimeline()\r\n\r\n  if (isObserver) {\r\n    $('.js-visibility').each((i, el) => {\r\n      observer.observe(el);\r\n    });\r\n  }\r\n\r\n  $(window).on('scroll', () => {});\r\n  $(window).on('load', () => {});\r\n  $(window).on('resize', doneResizing);\r\n});\r\n"],"sourceRoot":""}