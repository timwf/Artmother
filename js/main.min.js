!function(){function e(e,t,n,i,o,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(i,o)}function t(t){return function(){var n=this,i=arguments;return new Promise((function(o,r){var a=t.apply(n,i);function s(t){e(a,o,r,s,c,"next",t)}function c(t){e(a,o,r,s,c,"throw",t)}s(void 0)}))}}$(document).ready((function(){var e,n,i,o=$(window).width(),r=!1,a=$(".page-header"),s=a.find(".nav"),c=s.find(".menu-item-has-children"),l=c.children("a"),u=c.children(".sub-menu"),d=!0;function h(){if($(document).height()>$(window).height()){var e=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();$("html").addClass("disable-scrolling").css("top",-e)}}function g(){var e=parseInt($("html").css("top"),10);$("html").removeClass("disable-scrolling"),$("html,body").scrollTop(-e)}function m(e){var t=$(e.target),n=t.siblings(".sub-menu");t.parent().hasClass("is-active")?(t.attr("aria-expanded","false").parent().removeClass("is-active"),o<1280&&n.slideUp()):(c.removeClass("is-active"),t.attr("aria-expanded","true").parent().addClass("is-active"),o<1280&&(u.slideUp(),n.slideDown()))}"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(d=!1,$("html").removeClass("is-observer")),d&&(e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),e.unobserve(t.target))}))}),{rootMargin:"0px 0px -15% 0px"})),i=" -webkit- -moz- -o- -ms- ".split(" "),("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||(n=["(",i.join("touch-enabled),("),"heartz",")"].join(""),window.matchMedia(n).matches))&&$("html").addClass("is-touch");var f=function(e,t,n){for(var i=arguments.length,o=new Array(i>3?i-3:0),r=3;r<i;r++)o[r-3]=arguments[r];var a;return function(){var i=this,r=n&&!a;clearTimeout(a),a=setTimeout((function(){a=null,n||e.apply(i,o)}),t),r&&e.apply(i,o)}}((function(){var e=$(window).width();o!==e&&(o=e)}),500),p=!1;function v(){var e,t,n,i,u,d,f,v,w,y;console.log("initall"),function(){var e,t=!0;"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype||(t=!1,$("html").removeClass("is-observer")),t&&(e=new IntersectionObserver((function(t){t.forEach((function(t){t.isIntersecting&&(t.target.classList.add("is-visible"),e.unobserve(t.target))}))}),{rootMargin:"0px 0px -15% 0px"})),t&&$(".js-visibility").each((function(t,n){e.observe(n)}))}(),g(),$(".hamburger").on("click",(function(){r?(a.removeClass("is-opened"),g()):(a.addClass("is-opened"),h()),r=!r})),l.on("touchend",(function(e){e.preventDefault(),m(e)})),$(window).keyup((function(e){9===(e.keyCode?e.keyCode:e.which)&&(l.filter(":focus").length?m(e):s.find(">li>a:focus").length&&(c.removeClass("is-active"),o<1280&&c.children(".sub-menu").slideUp()))})),document.body.addEventListener("mousedown",(function(){document.body.classList.remove("is-tab")})),document.body.addEventListener("keydown",(function(e){"Tab"===e.key&&document.body.classList.add("is-tab")})),function(){var e=$(".loader__inner svg path"),t=$(".loader__sub-heading h2"),n=$(".loader");if(console.log("homeloader"),0==p){var i=$(".artist-hero .animated-line-show"),o=$(".artist-hero__title h1");$(o).addClass("delay"),$(i).css("animation-delay","5.5s"),p=!0}$(t).length?n.length&&(h(),gsap.timeline().to(e,{duration:.5,stagger:.3,opacity:.2,scale:1.05}).to(e,{duration:1,stagger:.3,opacity:1,scale:1},"-=3").to(t,{duration:1,opacity:1,y:0},"+=0").to(n,{duration:1,onComplete:g,opacity:1,y:"-100%"},"+=1")):console.log("not found")}(),e=$(".author-timeline__center-line"),t=$(".author-timeline__leading-line"),n=$(".author-timeline__inner h3"),$(e).length&&gsap.timeline({scrollTrigger:{trigger:e,start:"top 50%",toggleActions:"play",markers:!1}}).to(e,{duration:10,stagger:.3,height:"90%"}).to(t,{duration:1,stagger:1,scale:1},"-=9.2").to(n,{duration:1,stagger:1,opacity:1,y:0},"-=9.2"),i=$(".full-width-video__video-container video"),u=0,$(i).length&&$(window).scroll((function(){var e=$(document).scrollTop();e<900&&(u=Math.abs(e-1e3)),$(i).css("transform","scale(1.".concat(u,")"))})),d=$(".js-lightbox"),f=$(".lightbox"),v=$(".lightbox__close svg"),$(d).length&&($(d).on("click",(function(){var e=$(this).attr("src"),t=$(f).find("img")[0],n=$(this).attr("alt");$(f).find("p").text(n),$(t).attr("src",e),h(),$(f).fadeIn()})),$(v).on("click",(function(){$(f).fadeOut(),g()}))),function(){var e=$(".full-width-video__play"),t=$(".full-width-video__pause"),n=$(".full-width-video__video-container video"),i=0;function o(){$(t).hide()}$(e).length&&($(e).on("click",(function(){$(n)[0].play(),$(e).hide(),$(t).show(),$(n).mousemove((function(e){$(t).show(),clearTimeout(i),i=setTimeout(o,1e3)}))})),$(t).on("click",(function(){$(n)[0].pause(),$(e).show(),$(t).hide(),$(n).mousemove((function(e){$(t).hide()}))})))}(),function(){var e=$(".page-header");if($(document).scrollTop(),$(e).length){var t=0;$(window).scroll((function(n){var i=$(this).scrollTop();i>t?$(e).css("transform","translate(0px, -120px)"):$(e).css("transform","translate(0px, 0px)"),t=i,i<100&&$(e).css("transform","translate(0px, 0px)")}))}}(),w=$(".mobile-page-header__hamburger"),y=$(".mobile-page-header__menu"),$(y).length&&$(w).on("click",(function(){$(y).toggleClass("active"),$(y).hasClass("active")?(h(),$(w).addClass("active")):(g(),$(w).removeClass("active"))})),function(){var e="",t=$(".artists__grid"),n=$(".artists__search-bar svg");if(g(),$(t).length){$("#artists__search-input").focus((function(){$(n).hide()})),$("#artists__search-input").on("keyup",(function(){var t=$(this).val();e=t,i.search(t),""==t?$(n).show():$(n).hide()}));var i=new List("artist__search",{valueNames:["artist-name"]});i.on("searchComplete",(function(n){0==n.matchingItems.length&&$(t).append("sorry ".concat(e," not found"))}))}}(),function(){function e(e){var t=$(".art__grid");$(t).length&&(grid=document.getElementsByClassName("art__grid")[0],rowHeight=parseInt(window.getComputedStyle(grid).getPropertyValue("grid-auto-rows")),rowGap=parseInt(window.getComputedStyle(grid).getPropertyValue("grid-row-gap")),rowSpan=Math.ceil((e.querySelector(".art__img-container").getBoundingClientRect().height+rowGap)/(rowHeight+rowGap)),e.style.gridRowEnd="span "+rowSpan)}function t(){for(allItems=document.getElementsByClassName("art__item"),x=0;x<allItems.length;x++)e(allItems[x])}function n(t){item=t.elements[0],e(item)}for(window.onload=t(),window.addEventListener("resize",t),allItems=document.getElementsByClassName("art__item"),x=0;x<allItems.length;x++)imagesLoaded(allItems[x],n)}()}v(),function(){function e(e){return e=e||2e3,new Promise((function(t){setTimeout((function(){t()}),e)}))}function n(){var e=$(".page-tranition");gsap.timeline().to(e,{duration:.2,stagger:.3,opacity:1,x:"100%"})}barba.init({sync:!0,debug:!0,transitions:[{leave:function(n){var i=this;return t(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=i.async(),void 0,o=$(".page-tranition"),gsap.timeline().to(o,{duration:.4,stagger:.3,opacity:1,x:0}),t.next=4,e(1e3);case 4:n();case 5:case"end":return t.stop()}var o}),t)})))()},enter:function(e){return t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(),v();case 2:case"end":return e.stop()}}),e)})))()},once:function(e){return t(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n();case 1:case"end":return e.stop()}}),e)})))()}}]})}(),d&&$(".js-visibility").each((function(t,n){e.observe(n)})),$(window).on("scroll",(function(){})),$(window).on("load",(function(){})),$(window).on("resize",f)}))}();
//# sourceMappingURL=main.min.js.map